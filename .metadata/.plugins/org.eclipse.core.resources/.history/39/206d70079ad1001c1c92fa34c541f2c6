package seleniumPack;

import org.assertj.core.api.Assertions;
import org.openqa.selenium.By;
import org.openqa.selenium.support.PageFactory;
//import org.testng.Assert;
import org.testng.annotations.AfterMethod;
import org.testng.annotations.BeforeMethod;
import org.testng.annotations.Test;

import objectRepository.BusSearchPage;

public class AbhibusTest extends DriverUtil {
	
	BusSearchPage busSearchPage; 
	
	@Test
	public void verifyBusSearchFunctionWorkingForValidInput() {
		String fromCity = "Chennai";
		String toCity = "Bangalore";

		busSearchPage.setBusSearchDetails(fromCity, toCity);
		busSearchPage.clickSearchButton();

		String title = driver.getTitle();
		Assertions.assertThat(title).as("Title is not matching with some conditions").startsWith(fromCity)
				.contains(toCity).endsWith("Bus Tickets at Abhibus.com");
	}

	@BeforeMethod
	public void beforeMethod() {
		getDriver("https://www.abhibus.com/");
		
		busSearchPage = new BusSearchPage(driver);
		
	}

	@AfterMethod
	public void afterMethod() {
		driver.close();
	}

}
