package seleniumPack;

import static org.assertj.core.api.Assertions.assertThat;
import org.testng.annotations.AfterMethod;
import org.testng.annotations.BeforeMethod;
import org.testng.annotations.Test;

import objectRepository.BusSearchPage;

public class AbhibusTest extends DriverUtil {

	BusSearchPage busSearchPage;

	// logs
	// git
	// excel
	// waits
	// 
	
	@Test
	public void verifyBusSearchFunctionWorkingForValidInput() {
		String fromCity = "Chennai";
		String toCity = "Bangalore";

		busSearchPage.setBusSearchDetails(fromCity, toCity).clickSearchButton();

		assertThat(getTitle())
			.as("Title is not matching with some conditions")
			.startsWith(fromCity)
			.contains(toCity).endsWith("Bus Tickets at Abhibus.com");
	}

	@BeforeMethod
	public void beforeMethod() {
		getDriver("https://www.abhibus.com/");
		busSearchPage = new BusSearchPage(driver);
	}

	@AfterMethod
	public void afterMethod() {
		closeBrowser();
	}

}
